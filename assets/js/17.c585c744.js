(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{330:function(e,t,o){"use strict";o.r(t);var n=o(43),a=Object(n.a)({},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[e._v("It's been a few days since I haven't been able to locate the bottleneck in an I2C bus. It's hard to tell just from code and debug info, on what rate I'm getting sensor data. And it's hard to \"imagine\" what really plays down in a 3200kHz communication protocol. It felt like I found logic analyzers out of the blue sky, but really I was too slow to catch up on the existense of these kinds of hardware debug accessories.")]),e._v(" "),o("p",[e._v("There's a great brand that I've heard many people recommend, but there's also cheap chinese clones for a tenth of the price, that do just as much, and that nobody recommends. Not being able to resist a €10.99 purchase, I ordered one on eBay. Before even trying any free "),o("a",{attrs:{href:"https://sigrok.org/"}},[e._v("open source")]),e._v(" software with it, I just tried the one from Saleae, which is also free, and it worked with the noname clone flawlessly.")]),e._v(" "),o("p",[e._v("I don't know what I was expecting, but the usage of it is as trivial as it gets. Connect the channels to the logic level lines that you intend to sniff, connect ground too, assign the SDA and SCL to the matching channels, et violá. High and Low states get polled at 20MHz for a full second, and are then presented for analysis.The Saleae software debugs the bits even on hover, and translates them to hexadecimal, decimal, or ascii characters. These can then be exported to csv files too, if needed.")]),e._v(" "),o("p",[e._v("Even without translation, I instantly recognized some schemes. After requesting to read a register (3 separate bytes worth of blocks in the I2C clock channel) there would be an unnecessarily long looking string of bytes. Turns out I've been requesting a good 100-150 bytes of data through I2C instead of only asking for the 6 important bytes of the sensor data that I'm interested in. Prior to using a logic analyzer, I didn't imagine that this sloppyness would clog the bus.")]),e._v(" "),o("p",[e._v("Thinking back now, I feel so stupid having used selfie cameras to check infra leds in the past. Often I've \"debugged\" by asking the mcu to toggle a led during a process, just so I can confirm it's doing stuff. Toggling leds however takes time, and is hard to see, when it's supposed to happen every millisecond. Now I can debug data lines without changing the code, on the computer, like a pro.")]),e._v(" "),o("p",[e._v('Lately I have been "feeling an increasing need" (=searching for an excuse) to buy an oscilloscope, but this supercheap logic analyzer has got 99% of my needs covered for the foreseeable future.')])])},[],!1,null,null,null);a.options.__file="logic-analyzer.md";t.default=a.exports}}]);