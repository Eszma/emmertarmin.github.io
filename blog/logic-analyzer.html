<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Logic Analyzer Fun | Armin Emmert</title>
    <meta name="description" content="">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon.png">
  <link rel="icon" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
    
    <link rel="preload" href="/assets/css/0.styles.625be6b0.css" as="style"><link rel="preload" href="/assets/js/app.c5c3e232.js" as="script"><link rel="preload" href="/assets/js/4.2301ef4d.js" as="script"><link rel="preload" href="/assets/js/17.c585c744.js" as="script"><link rel="prefetch" href="/assets/js/10.1cf0cd84.js"><link rel="prefetch" href="/assets/js/11.d2ba0a31.js"><link rel="prefetch" href="/assets/js/12.fa403fb3.js"><link rel="prefetch" href="/assets/js/13.d1afaf70.js"><link rel="prefetch" href="/assets/js/14.d355a70d.js"><link rel="prefetch" href="/assets/js/15.49d8d227.js"><link rel="prefetch" href="/assets/js/16.0ebbb529.js"><link rel="prefetch" href="/assets/js/18.415ca917.js"><link rel="prefetch" href="/assets/js/19.db81a35d.js"><link rel="prefetch" href="/assets/js/20.b823377c.js"><link rel="prefetch" href="/assets/js/3.0f416252.js"><link rel="prefetch" href="/assets/js/5.cab93536.js"><link rel="prefetch" href="/assets/js/6.9708b22d.js"><link rel="prefetch" href="/assets/js/7.dd39d1f6.js"><link rel="prefetch" href="/assets/js/8.b8249bf3.js"><link rel="prefetch" href="/assets/js/9.2a07a8d1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c67befde.js">
    <link rel="stylesheet" href="/assets/css/0.styles.625be6b0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/vuepress-blog-logo.png" alt="Armin Emmert" class="logo"> <span class="site-name can-hide">Armin Emmert</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">Blog</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/archive/" class="nav-link">Archive</a></div><div class="nav-item"><a href="/rss.xml" class="nav-link">
  RSS Feed
</a></div> <a href="https://github.com/emmertarmin/emmertarmin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">Blog</a></div><div class="nav-item"><a href="/about/" class="nav-link">About</a></div><div class="nav-item"><a href="/archive/" class="nav-link">Archive</a></div><div class="nav-item"><a href="/rss.xml" class="nav-link">
  RSS Feed
</a></div> <a href="https://github.com/emmertarmin/emmertarmin.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    Repo
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </div> <div class="blog" data-v-5ebcfcbc><div class="blog__header" data-v-5ebcfcbc><p class="publish-date" data-v-5ebcfcbc><time datetime="2020-05-06T16:00:00.000Z" data-v-5ebcfcbc>2020-05-06</time></p> <p data-v-5ebcfcbc>Time to read: 3 min read</p> <h1 class="blog__title" data-v-5ebcfcbc>Logic Analyzer Fun</h1></div> <div class="custom content default" data-v-5ebcfcbc><p>It's been a few days since I haven't been able to locate the bottleneck in an I2C bus. It's hard to tell just from code and debug info, on what rate I'm getting sensor data. And it's hard to &quot;imagine&quot; what really plays down in a 3200kHz communication protocol. It felt like I found logic analyzers out of the blue sky, but really I was too slow to catch up on the existense of these kinds of hardware debug accessories.</p> <p>There's a great brand that I've heard many people recommend, but there's also cheap chinese clones for a tenth of the price, that do just as much, and that nobody recommends. Not being able to resist a €10.99 purchase, I ordered one on eBay. Before even trying any free <a href="https://sigrok.org/">open source</a> software with it, I just tried the one from Saleae, which is also free, and it worked with the noname clone flawlessly.</p> <p>I don't know what I was expecting, but the usage of it is as trivial as it gets. Connect the channels to the logic level lines that you intend to sniff, connect ground too, assign the SDA and SCL to the matching channels, et violá. High and Low states get polled at 20MHz for a full second, and are then presented for analysis.The Saleae software debugs the bits even on hover, and translates them to hexadecimal, decimal, or ascii characters. These can then be exported to csv files too, if needed.</p> <p>Even without translation, I instantly recognized some schemes. After requesting to read a register (3 separate bytes worth of blocks in the I2C clock channel) there would be an unnecessarily long looking string of bytes. Turns out I've been requesting a good 100-150 bytes of data through I2C instead of only asking for the 6 important bytes of the sensor data that I'm interested in. Prior to using a logic analyzer, I didn't imagine that this sloppyness would clog the bus.</p> <p>Thinking back now, I feel so stupid having used selfie cameras to check infra leds in the past. Often I've &quot;debugged&quot; by asking the mcu to toggle a led during a process, just so I can confirm it's doing stuff. Toggling leds however takes time, and is hard to see, when it's supposed to happen every millisecond. Now I can debug data lines without changing the code, on the computer, like a pro.</p> <p>Lately I have been &quot;feeling an increasing need&quot; (=searching for an excuse) to buy an oscilloscope, but this supercheap logic analyzer has got 99% of my needs covered for the foreseeable future.</p></div> <div class="page-edit" data-v-5ebcfcbc><!----> <!----></div> <!----> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c5c3e232.js" defer></script><script src="/assets/js/4.2301ef4d.js" defer></script><script src="/assets/js/17.c585c744.js" defer></script>
  </body>
</html>
